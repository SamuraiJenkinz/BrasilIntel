# Requirements Archive: v1.0 BrasilIntel MVP

**Archived:** 2026-02-05
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: BrasilIntel

**Defined:** 2026-02-04
**Core Value:** Senior management at Marsh Brasil receives actionable intelligence reports on their monitored insurers daily, with zero manual effort.

## v1 Requirements

Requirements for initial release. Each maps to roadmap phases.

### Data Management

- [x] **DATA-01**: System stores 897 insurers with ANS Code, Name, CNPJ, Product Category, Market Master, Status, Enabled flag
- [x] **DATA-02**: Admin can view insurers with search by name/ANS code and filter by category
- [x] **DATA-03**: Admin can edit insurer details (name, search terms, enabled/disabled)
- [x] **DATA-04**: Admin can upload Excel file to bulk import/update insurers
- [x] **DATA-05**: Admin can preview import before committing changes
- [x] **DATA-06**: Admin can export current insurer data as Excel
- [x] **DATA-07**: System validates required fields (ANS Code, Name, Category) on import
- [x] **DATA-08**: System rejects duplicate ANS codes with clear error messages

### News Collection

- [x] **NEWS-01**: System scrapes Google News for each enabled insurer using name + ANS code
- [x] **NEWS-02**: System scrapes Valor Economico for insurance-related news
- [x] **NEWS-03**: System scrapes InfoMoney for insurance-related news
- [x] **NEWS-04**: System scrapes CQCS for insurance industry news
- [x] **NEWS-05**: System scrapes ANS official releases
- [x] **NEWS-06**: System scrapes Broadcast/Estadao for insurance news
- [x] **NEWS-07**: System processes insurers in batches (30-50) with rate limiting
- [x] **NEWS-08**: System stores news items with title, summary, source URL, source name, published date
- [x] **NEWS-09**: System links news items to specific insurers and run records
- [x] **NEWS-10**: System uses AI relevance scoring to filter low-value content

### Classification

- [x] **CLASS-01**: Azure OpenAI classifies each insurer status as Critical, Watch, Monitor, or Stable
- [x] **CLASS-02**: Classification based on news content analysis (financial crisis, regulatory action, M&A, leadership changes)
- [x] **CLASS-03**: Azure OpenAI generates concise bullet-point summary for each news item
- [x] **CLASS-04**: Azure OpenAI assigns sentiment (positive/negative/neutral) to each news item
- [x] **CLASS-05**: Classification results stored with insurer records
- [x] **CLASS-06**: LLM summarization can be toggled via configuration (USE_LLM_SUMMARY)

### Reporting

- [x] **REPT-01**: System generates 3 separate daily reports (Health, Dental, Group Life)
- [x] **REPT-02**: Reports match Marsh branding (colors, layout) from reference HTML designs
- [x] **REPT-03**: Reports include confidential banner with classification level
- [x] **REPT-04**: Reports include executive summary with key findings cards (Critical/Warning/Positive)
- [x] **REPT-05**: Reports include coverage summary table with all insurers and status badges
- [x] **REPT-06**: Reports group insurers by status priority (Critical first, then Watch, Monitor, Stable)
- [x] **REPT-07**: Each insurer section shows news items with icons, titles, impact tags
- [x] **REPT-08**: Reports include market context section with regulatory updates
- [x] **REPT-09**: Reports include strategic recommendations section
- [x] **REPT-10**: Azure OpenAI generates executive summary paragraph for each report
- [x] **REPT-11**: Reports render correctly on mobile devices (responsive HTML)
- [x] **REPT-12**: System stores generated reports in archive with date-based organization
- [x] **REPT-13**: Admin can browse and view historical reports by date and category

### Delivery

- [x] **DELV-01**: System sends reports via Microsoft Graph API (Exchange Online)
- [x] **DELV-02**: Email supports TO, CC, BCC recipient lists per category
- [x] **DELV-03**: Recipients configurable per product category (Health, Dental, Group Life)
- [x] **DELV-04**: System sends immediate alert email when Critical status detected
- [x] **DELV-05**: Critical alerts sent separately from daily digest
- [x] **DELV-06**: System generates PDF version of each report
- [x] **DELV-07**: PDF attached to email or available for download
- [x] **DELV-08**: System tracks email delivery status per run

### Scheduling

- [x] **SCHD-01**: System runs 3 scheduled jobs (one per product category)
- [x] **SCHD-02**: Default schedule: Health 6 AM, Dental 7 AM, Group Life 8 AM (Sao Paulo time)
- [x] **SCHD-03**: Admin can modify cron expression for each category
- [x] **SCHD-04**: Admin can enable/disable each scheduled job
- [x] **SCHD-05**: Admin can trigger manual run for any category via UI
- [x] **SCHD-06**: System tracks run history (started, completed, status, items found, errors)
- [x] **SCHD-07**: System shows next scheduled run time for each category

### Admin UI

- [x] **ADMN-01**: Web dashboard accessible at configured port (default 3000)
- [x] **ADMN-02**: Basic authentication with username/password from environment variables
- [x] **ADMN-03**: Dashboard shows summary cards per category (insurer count, last run, next run)
- [x] **ADMN-04**: Dashboard shows recent reports list with quick view links
- [x] **ADMN-05**: Dashboard shows system status indicators (healthy/warning/error)
- [x] **ADMN-06**: Insurers page with category tabs, search, status filters
- [x] **ADMN-07**: Insurers page supports bulk enable/disable operations
- [x] **ADMN-08**: Import page with drag-and-drop file upload
- [x] **ADMN-09**: Import page shows preview before commit with validation errors
- [x] **ADMN-10**: Recipients page with subscription checkboxes per category — **READ-ONLY (env var config)**
- [x] **ADMN-11**: Recipients page supports add/edit/remove recipient — **READ-ONLY (env var config)**
- [x] **ADMN-12**: Schedules page shows each category with cron expression, next runs, toggle
- [x] **ADMN-13**: Schedules page has manual trigger button per category
- [x] **ADMN-14**: Settings page for company branding (name, classification level)
- [x] **ADMN-15**: Settings page for scraping config (batch size, timeout, lookback days)
- [x] **ADMN-16**: API keys displayed masked with reveal toggle

### Deployment

- [x] **DEPL-01**: Application runs as Python package with entry point `python -m src.main`
- [x] **DEPL-02**: Docker container available for local Windows 11 development
- [x] **DEPL-03**: Windows Scheduled Task setup via PowerShell script for production
- [x] **DEPL-04**: PowerShell management script with start/stop/status/logs/run-now commands
- [x] **DEPL-05**: Application uses Python venv for dependency isolation
- [x] **DEPL-06**: All configuration via environment variables (.env file)
- [x] **DEPL-07**: SQLite database stored in configurable data directory
- [x] **DEPL-08**: Logs written to data/logs/ with date-stamped filenames
- [x] **DEPL-09**: Health check endpoint at /api/health returns system status

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| DATA-01 | Phase 1 | Complete |
| DATA-02 | Phase 1 | Complete |
| DATA-03 | Phase 1 | Complete |
| DATA-04 | Phase 1 | Complete |
| DATA-05 | Phase 1 | Complete |
| DATA-06 | Phase 1 | Complete |
| DATA-07 | Phase 1 | Complete |
| DATA-08 | Phase 1 | Complete |
| NEWS-01 | Phase 2 | Complete |
| NEWS-02 | Phase 3 | Complete |
| NEWS-03 | Phase 3 | Complete |
| NEWS-04 | Phase 3 | Complete |
| NEWS-05 | Phase 3 | Complete |
| NEWS-06 | Phase 3 | Complete |
| NEWS-07 | Phase 3 | Complete |
| NEWS-08 | Phase 3 | Complete |
| NEWS-09 | Phase 3 | Complete |
| NEWS-10 | Phase 3 | Complete |
| CLASS-01 | Phase 2 | Complete |
| CLASS-02 | Phase 4 | Complete |
| CLASS-03 | Phase 2 | Complete |
| CLASS-04 | Phase 4 | Complete |
| CLASS-05 | Phase 4 | Complete |
| CLASS-06 | Phase 4 | Complete |
| REPT-01 | Phase 2 | Complete |
| REPT-02 | Phase 5 | Complete |
| REPT-03 | Phase 5 | Complete |
| REPT-04 | Phase 5 | Complete |
| REPT-05 | Phase 5 | Complete |
| REPT-06 | Phase 5 | Complete |
| REPT-07 | Phase 5 | Complete |
| REPT-08 | Phase 5 | Complete |
| REPT-09 | Phase 5 | Complete |
| REPT-10 | Phase 5 | Complete |
| REPT-11 | Phase 5 | Complete |
| REPT-12 | Phase 5 | Complete |
| REPT-13 | Phase 5 | Complete |
| DELV-01 | Phase 2 | Complete |
| DELV-02 | Phase 6 | Complete |
| DELV-03 | Phase 6 | Complete |
| DELV-04 | Phase 6 | Complete |
| DELV-05 | Phase 6 | Complete |
| DELV-06 | Phase 6 | Complete |
| DELV-07 | Phase 6 | Complete |
| DELV-08 | Phase 6 | Complete |
| SCHD-01 | Phase 7 | Complete |
| SCHD-02 | Phase 7 | Complete |
| SCHD-03 | Phase 7 | Complete |
| SCHD-04 | Phase 7 | Complete |
| SCHD-05 | Phase 7 | Complete |
| SCHD-06 | Phase 7 | Complete |
| SCHD-07 | Phase 7 | Complete |
| ADMN-01 | Phase 8 | Complete |
| ADMN-02 | Phase 8 | Complete |
| ADMN-03 | Phase 8 | Complete |
| ADMN-04 | Phase 8 | Complete |
| ADMN-05 | Phase 8 | Complete |
| ADMN-06 | Phase 8 | Complete |
| ADMN-07 | Phase 8 | Complete |
| ADMN-08 | Phase 8 | Complete |
| ADMN-09 | Phase 8 | Complete |
| ADMN-10 | Phase 8 | Complete (read-only) |
| ADMN-11 | Phase 8 | Complete (read-only) |
| ADMN-12 | Phase 8 | Complete |
| ADMN-13 | Phase 8 | Complete |
| ADMN-14 | Phase 8 | Complete |
| ADMN-15 | Phase 8 | Complete |
| ADMN-16 | Phase 8 | Complete |
| DEPL-01 | Phase 2 | Complete |
| DEPL-02 | Phase 2 | Complete |
| DEPL-03 | Phase 2 | Complete |
| DEPL-04 | Phase 2 | Complete |
| DEPL-05 | Phase 2 | Complete |
| DEPL-06 | Phase 2 | Complete |
| DEPL-07 | Phase 2 | Complete |
| DEPL-08 | Phase 2 | Complete |
| DEPL-09 | Phase 2 | Complete |

---

## Milestone Summary

**Shipped:** 63 of 63 v1 requirements (100%)
**Adjusted:** ADMN-10, ADMN-11 changed from full CRUD to read-only display (design decision)
**Dropped:** None

---
*Archived: 2026-02-05 as part of v1.0 milestone completion*
